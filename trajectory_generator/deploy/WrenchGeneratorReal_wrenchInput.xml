<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "cpf.dtd">
<properties>

	<simple name="Import" type="string"><value>lwr_fri</value></simple>
  	<simple name="Import" type="string"><value>rtt_rosnode</value></simple>
	<simple name="Import" type="string"><value>trajectory_generator</value></simple>
	<simple name="Import" type="string"><value>rtt_std_msgs</value></simple>
	<simple name="Import" type="string"><value>rtt_sensor_msgs</value></simple>
	<simple name="Import" type="string"><value>rtt_geometry_msgs</value></simple>
	
	<struct name="ROSConWrenchIn" type="ConnPolicy">
  		<simple name="type" type="long"><value>0</value></simple>
  		<simple name="size" type="long"><value>1</value></simple>
  		<simple name="transport" type="long"><value>3</value></simple>
  		<simple name="name_id" type="string"><value>wrenchDes</value></simple>
	</struct>
	
	<!-- TODO: add simulation based on wrench and some simplified physical model -->
	<struct name="ROSConWrenchOut" type="ConnPolicy">
  		<simple name="type" type="long"><value>0</value></simple>
  		<simple name="size" type="long"><value>1</value></simple>
  		<simple name="transport" type="long"><value>3</value></simple>
  		<simple name="name_id" type="string"><value>measured_wrench</value></simple>
	</struct>

	<struct name="FRIServer" type="lwr_fri::FRIComponent">
 		<struct name="Activity" type="NonPeriodicActivity">
			<simple name="Priority" type="long"><value>1</value></simple>
			<simple name="Scheduler" type="string"><value>ORO_SCHED_RT</value></simple>
		</struct>
	    	<simple name="AutoConf" type="boolean"><value>1</value></simple>
		<simple name="AutoStart" type="boolean"><value>1</value></simple>
		<simple name="LoadProperties" type="string"><value>cpf/FRIServer_cm5.cpf</value></simple>
		<struct name="Ports" type="PropertyBag">
			<simple name="msrWrench" type="string"><value>ROSConWrenchOut</value></simple>
			<simple name="desWrench" type="string"><value>ROSConWrenchIn</value></simple>
		</struct>
		<!--
		<struct name="Peers" type="PropertyBag">
    			<simple type="string"><value>trajectoryGenerator</value></simple>
		</struct>
		-->
	</struct>
	
        <!--
        How are the topics connected?
        * wrenchDes (ROS) -> ROSConWrenchIn -> desWrench (FRIServer)
        * msrWrench (FRIServer) -> ROSConWrenchOut -> measured_wrench (ROS)
        -->

	<struct name="Reporter" type="OCL::FileReporting">
    		<struct name="Activity" type="PeriodicActivity">
			<simple name="Period" type="double"><value>0.005</value></simple>
			<simple name="Priority" type="long"><value>0</value></simple>
			<simple name="Scheduler" type="string"><value>ORO_SCHED_OTHER</value></simple>
    		</struct>
    		<simple name="AutoConf" type="boolean"><value>1</value></simple>
    		<simple name="AutoStart" type="boolean"><value>1</value></simple>
    		<simple name="AutoSave" type="boolean"><value>1</value></simple>
    		<simple name="LoadProperties" type="string"><value>cpf/reportingReal.cpf</value></simple>
    		<!-- List all peers (uni-directional) -->
    		<struct name="Peers" type="PropertyBag">
			<!-- <simple type="string"><value>trajectoryGenerator</value></simple> -->
    			<simple type="string"><value>FRIServer</value></simple>
    		</struct>
    	</struct>
</properties>
